{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      teams: [],\n      up: 0,\n      down: 0,\n      totalRecord: 0,\n      currentPage: 1,\n      searchText: \"\"\n    };\n  },\n  methods: {\n    getTeams() {\n      axios.get(\"/api/team/query\").then(response => {\n        this.teams = response.data.obj;\n        this.initPage();\n      });\n    },\n    pageAdd() {\n      if (this.up == this.totalRecord) {\n        alert(\"It is Last Page\");\n      } else {\n        this.currentPage++;\n        this.initPage();\n      }\n    },\n    pageSub() {\n      if (this.down == 0) {\n        alert(\"It is First Page\");\n      } else {\n        this.currentPage--;\n        this.initPage();\n      }\n    },\n    initPage() {\n      this.totalRecord = this.teams.length;\n      this.up = this.currentPage * 2 > this.totalRecord ? this.totalRecord : this.currentPage * 2;\n      this.down = (this.currentPage - 1) * 2 <= 0 ? 0 : (this.currentPage - 1) * 2;\n    },\n    search() {\n      axios.get(\"/api/team/query\", {\n        params: {\n          search: this.searchText\n        }\n      }).then(response => {\n        console.log(response.data.obj);\n        this.teams = response.data.obj;\n        this.currentPage = 1;\n        this.initPage();\n      });\n    }\n  },\n  mounted() {\n    this.getTeams();\n  }\n};","map":{"version":3,"mappings":"AAmFA,OAAOA,KAAI,MAAO,OAAM;AACtB,eAAc;EACZC,IAAI,GAAE;IACJ,OAAO;MACLC,KAAK,EAAC,EAAE;MACRC,EAAE,EAAC,CAAC;MACJC,IAAI,EAAC,CAAC;MACNC,WAAW,EAAC,CAAC;MACbC,WAAW,EAAC,CAAC;MACbC,UAAU,EAAC;IACb;EACF,CAAC;EACDC,OAAO,EAAC;IACNC,QAAQ,GAAE;MACRT,KAAK,CAACU,GAAG,CAAC,iBAAiB,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QAC5C,IAAI,CAACV,KAAK,GAACU,QAAQ,CAACX,IAAI,CAACY,GAAE;QAC3B,IAAI,CAACC,QAAQ,EAAC;MAChB,CAAC;IACH,CAAC;IACDC,OAAO,GAAE;MACP,IAAG,IAAI,CAACZ,EAAC,IAAK,IAAI,CAACE,WAAW,EAAC;QAC7BW,KAAK,CAAC,iBAAiB;MACzB,CAAC,MAAI;QACH,IAAI,CAACV,WAAW,EAAC;QACjB,IAAI,CAACQ,QAAQ,EAAC;MAChB;IACF,CAAC;IACDG,OAAO,GAAE;MACP,IAAG,IAAI,CAACb,IAAG,IAAK,CAAC,EAAC;QAChBY,KAAK,CAAC,kBAAkB;MAC1B,CAAC,MAAI;QACH,IAAI,CAACV,WAAW,EAAC;QACjB,IAAI,CAACQ,QAAQ,EAAC;MAChB;IACF,CAAC;IACDA,QAAQ,GAAE;MACR,IAAI,CAACT,WAAU,GAAI,IAAI,CAACH,KAAK,CAACgB,MAAK;MACnC,IAAI,CAACf,EAAC,GAAI,IAAI,CAACG,WAAU,GAAI,IAAI,IAAI,CAACD,WAAU,GAAI,IAAI,CAACA,WAAU,GAAI,IAAI,CAACC,WAAU,GAAI;MAC1F,IAAI,CAACF,IAAG,GAAI,CAAC,IAAI,CAACE,WAAW,GAAC,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,IAAI,CAACA,WAAU,GAAI,CAAC,IAAI;IAC3E,CAAC;IACDa,MAAM,GAAE;MACNnB,KAAK,CAACU,GAAG,CAAC,iBAAiB,EAAC;QAC1BU,MAAM,EAAC;UACLD,MAAM,EAAC,IAAI,CAACZ;QACd;MACF,CAAC,CAAC,CAACI,IAAI,CAACC,QAAO,IAAK;QAClBS,OAAO,CAACC,GAAG,CAACV,QAAQ,CAACX,IAAI,CAACY,GAAG;QAC7B,IAAI,CAACX,KAAI,GAAIU,QAAQ,CAACX,IAAI,CAACY,GAAE;QAC7B,IAAI,CAACP,WAAU,GAAI;QACnB,IAAI,CAACQ,QAAQ,EAAC;MAChB,CAAC;IACH;EACF,CAAC;EACDS,OAAO,GAAE;IACP,IAAI,CAACd,QAAQ,EAAC;EAChB;AACF","names":["axios","data","teams","up","down","totalRecord","currentPage","searchText","methods","getTeams","get","then","response","obj","initPage","pageAdd","alert","pageSub","length","search","params","console","log","mounted"],"sourceRoot":"","sources":["C:\\Users\\15312\\Desktop\\U\\大三上\\数据库\\课程设计\\NBAInfoSys\\frontend\\src\\components\\Team.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-wrapper\"> \r\n    <div class=\"app-content pt-3 p-md-3 p-lg-4\">\r\n      <div class=\"container-xl\">\r\n        <div class=\"row g-3 mb-4 align-items-center justify-content-between\">\r\n          <div class=\"col-auto\">\r\n            <h1 class=\"app-page-title mb-0\">TEAM</h1>\r\n          </div>\r\n          <div class=\"col-auto\">\r\n            <div class=\"page-utilities\">\r\n              <div class=\"row g-2 justify-content-start justify-content-md-end align-items-center\">\r\n                <div class=\"col-auto\">\r\n                  <form class=\"table-search-form row gx-1 align-items-center\">\r\n                    <div class=\"col-auto\">\r\n                      <input v-model=\"searchText\" type=\"text\" id=\"search-orders\" name=\"searchorders\" class=\"form-control search-orders\" placeholder=\"Search\">\r\n                    </div>\r\n                    <div class=\"col-auto\">\r\n                      <button @click=\"search\" type=\"button\" class=\"btn app-btn-secondary\">Search</button>\r\n                    </div>\r\n                  </form>               \r\n                </div><!--//col-->\r\n                \r\n                \r\n              </div><!--//row-->\r\n            </div><!--//table-utilities-->\r\n          </div><!--//col-auto-->\r\n        </div><!--//row-->\r\n       \r\n        <div class=\"tab-content\" id=\"orders-table-tab-content\">\r\n          <div class=\"tab-pane fade show active\" id=\"orders-all\" role=\"tabpanel\" aria-labelledby=\"orders-all-tab\">\r\n            <div class=\"app-card app-card-orders-table shadow-sm mb-5\">\r\n              <div class=\"app-card-body\">\r\n                <div class=\"table-responsive\">\r\n                  <table class=\"table app-table-hover mb-0 text-left\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th class=\"cell\"></th>\r\n                        <th class=\"cell\">Team Name</th>\r\n                        <th class=\"cell\">Team City</th>\r\n                        <th class=\"cell\">Team Zone</th>\r\n                        <th class=\"cell\">Arena</th>\r\n                        <th class=\"cell\">Players</th>\r\n                        <th class=\"cell\"></th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"team in teams.slice(down,up)\" key=\"team.tid\">\r\n                        <td class=\"cell\">\r\n                          <img style=\"height:40px\" :src=\"('./img/team_img/' + team.logo)\" alt=\"team_logo\">\r\n                        </td>\r\n                        <td class=\"cell\">{{ team.tname }}</td>\r\n                        <td class=\"cell\">{{ team.tcity }}</td>\r\n                        <td class=\"cell\">{{ team.tzone }}</td>\r\n                        <td class=\"cell\"><span>{{ team.arena }}</span></td>            \r\n                        <td class=\"cell\"><a class=\"btn-sm app-btn-secondary\" href=\"#\">LINEUP</a></td>\r\n                        <td class=\"cell\"><a class=\"btn-sm app-btn-secondary\" href=\"#\">Follow</a></td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div><!--//table-responsive-->\r\n                    \r\n              </div><!--//app-card-body-->\t\t\r\n            </div><!--//app-card-->\r\n            <nav class=\"app-pagination\">\r\n              <button class=\"btn app-btn-secondary\" @click=\"pageSub\">previous</button>\r\n              <button class=\"btn app-btn-secondary\" @click=\"pageAdd\">next</button>\r\n            </nav><!--//app-pagination-->\r\n            \r\n          </div><!--//tab-pane-->\r\n        </div>\r\n        <footer class=\"app-footer\">\r\n          <div class=\"container text-center py-3\">\r\n            <small>\r\n              chen\r\n            </small>\r\n          </div>\r\n        </footer><!--//app-footer-->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n  export default{\r\n    data(){\r\n      return {\r\n        teams:[],\r\n        up:0,\r\n        down:0,\r\n        totalRecord:0,\r\n        currentPage:1,\r\n        searchText:\"\"\r\n      }\r\n    },\r\n    methods:{\r\n      getTeams(){\r\n        axios.get(\"/api/team/query\").then(response => {\r\n          this.teams=response.data.obj\r\n          this.initPage()\r\n        })\r\n      },\r\n      pageAdd(){\r\n        if(this.up == this.totalRecord){\r\n          alert(\"It is Last Page\")\r\n        }else{\r\n          this.currentPage++\r\n          this.initPage()\r\n        }\r\n      },\r\n      pageSub(){\r\n        if(this.down == 0){\r\n          alert(\"It is First Page\")\r\n        }else{\r\n          this.currentPage--\r\n          this.initPage()\r\n        }\r\n      },\r\n      initPage(){\r\n        this.totalRecord = this.teams.length\r\n        this.up = this.currentPage * 2 > this.totalRecord ? this.totalRecord : this.currentPage * 2\r\n        this.down = (this.currentPage-1) * 2 <= 0 ? 0 : (this.currentPage - 1) * 2 \r\n      },\r\n      search(){\r\n        axios.get(\"/api/team/query\",{\r\n          params:{\r\n            search:this.searchText\r\n          }\r\n        }).then(response => {\r\n          console.log(response.data.obj)\r\n          this.teams = response.data.obj\r\n          this.currentPage = 1\r\n          this.initPage()\r\n        })\r\n      },\r\n    },\r\n    mounted(){\r\n      this.getTeams()\r\n    }\r\n  }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}