{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      errorMsg: \"\"\n    };\n  },\n  methods: {\n    signup() {\n      let form = new FormData();\n      if (this.$refs.img.files[0] != null) {\n        form.append(\"headshot\", this.$refs.img.files[0]);\n      }\n      form.append(\"username\", this.username);\n      form.append(\"password\", this.password);\n      let options = {\n        url: 'api/user/register',\n        data: form,\n        method: 'post',\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      };\n      axios(options).then(response => {\n        console.log(response.data);\n        if (response.data.status == 0) {\n          //创建失败显示提示信息\n          var msg = response.data.message;\n          if (msg.indexOf(\"\")) this.errorMsg = response.data.message;\n        } else {\n          this.$router.push(\"/login\");\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAkCA,OAAOA,KAAI,MAAO,OAAM;AACtB,eAAc;EACZC,IAAI,GAAE;IACJ,OAAO;MACLC,QAAQ,EAAC,EAAE;MACXC,QAAQ,EAAC,EAAE;MACXC,QAAQ,EAAC;IACX;EACF,CAAC;EACDC,OAAO,EAAC;IACNC,MAAM,GAAE;MACN,IAAIC,IAAG,GAAI,IAAIC,QAAQ,EAAC;MACxB,IAAG,IAAI,CAACC,KAAK,CAACC,GAAG,CAACC,KAAK,CAAC,CAAC,KAAK,IAAI,EAAC;QACjCJ,IAAI,CAACK,MAAM,CAAC,UAAU,EAAC,IAAI,CAACH,KAAK,CAACC,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC;MAChD;MACAJ,IAAI,CAACK,MAAM,CAAC,UAAU,EAAC,IAAI,CAACV,QAAQ;MACpCK,IAAI,CAACK,MAAM,CAAC,UAAU,EAAC,IAAI,CAACT,QAAQ;MACpC,IAAIU,OAAM,GAAI;QACZC,GAAG,EAAE,mBAAmB;QACxBb,IAAI,EAAEM,IAAI;QACVQ,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB;MACF;MACAhB,KAAK,CAACa,OAAO,CAAC,CAACI,IAAI,CAACC,QAAO,IAAK;QAC9BC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACjB,IAAI;QACzB,IAAGiB,QAAQ,CAACjB,IAAI,CAACoB,MAAK,IAAK,CAAC,EAAC;UAC3B;UACA,IAAIC,GAAE,GAAIJ,QAAQ,CAACjB,IAAI,CAACsB,OAAM;UAC9B,IAAGD,GAAG,CAACE,OAAO,CAAC,EAAE,CAAC,EAClB,IAAI,CAACpB,QAAO,GAAIc,QAAQ,CAACjB,IAAI,CAACsB,OAAM;QACtC,CAAC,MAAI;UACH,IAAI,CAACE,OAAO,CAACC,IAAI,CAAC,QAAQ;QAC5B;MACF,CAAC;IACH;EACF;AAEF","names":["axios","data","username","password","errorMsg","methods","signup","form","FormData","$refs","img","files","append","options","url","method","headers","then","response","console","log","status","msg","message","indexOf","$router","push"],"sourceRoot":"","sources":["C:\\Users\\15312\\Desktop\\U\\大三上\\数据库\\课程设计\\NBAInfoSys\\frontend\\src\\components\\Signup.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column align-content-end\">\r\n    <div class=\"app-auth-body mx-auto\">\t\r\n      <div class=\"app-auth-branding mb-4\">\r\n        <img class=\"logo-icon me-2\" style=\"height:100px\" src=\"img/NBALogo.png\" alt=\"logo\">\r\n      </div> \r\n      <h2 class=\"auth-heading text-center mb-5\"> &nbsp; &nbsp;&nbsp; Sign Up &nbsp;&nbsp;&nbsp;</h2>\r\n        <div class=\"auth-form-container text-start\">\r\n             \r\n        <div class=\"email mb-3\">\r\n          <label class=\"sr-only\" for=\"signin-email\">Username</label>\r\n          <input id=\"signin-email\" name=\"signin-email\" type=\"text\" class=\"form-control \" placeholder=\"Username\" \r\n          v-model=\"username\" required>\r\n        </div><!--//form-group-->\r\n        <div class=\"password mb-3\">\r\n          <label class=\"sr-only\" for=\"signin-password\">Password</label>\r\n          <input id=\"signin-password\" name=\"signin-password\" type=\"password\" class=\"form-control signin-password\" placeholder=\"Password\" \r\n          v-model=\"password\" required>\r\n        </div><!--//form-group-->\r\n        <div class=\"password mb-3\">\r\n          <label class=\"sr-only\" for=\"signin-password\">Head Shot</label>\r\n          <input type=\"file\"  ref=\"img\" name=\"img\" class=\"form-control \" placeholder=\"Img\">\r\n        </div><!--//form-group-->\r\n        <div style=\"color:red\">{{ errorMsg }}</div>\r\n        <div class=\"text-center\">\r\n          <button class=\"btn app-btn-primary w-100 theme-btn mx-auto\" @click=\"signup\">Sign Up</button>\r\n        </div>\r\n    </div><!--//auth-form-container-->\t\r\n\r\n    </div><!--//auth-body-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n  export default{\r\n    data(){\r\n      return {\r\n        username:\"\",\r\n        password:\"\",\r\n        errorMsg:\"\",\r\n      }\r\n    },\r\n    methods:{\r\n      signup(){\r\n        let form = new FormData()\r\n        if(this.$refs.img.files[0] != null){\r\n          form.append(\"headshot\",this.$refs.img.files[0])\r\n        }\r\n        form.append(\"username\",this.username)\r\n        form.append(\"password\",this.password)\r\n        let options = {\r\n          url: 'api/user/register',\r\n          data: form,\r\n          method: 'post',\r\n          headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n          }\r\n        }\r\n        axios(options).then(response => {\r\n          console.log(response.data)\r\n          if(response.data.status == 0){\r\n            //创建失败显示提示信息\r\n            var msg = response.data.message\r\n            if(msg.indexOf(\"\"))\r\n            this.errorMsg = response.data.message\r\n          }else{\r\n            this.$router.push(\"/login\")\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n  }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}