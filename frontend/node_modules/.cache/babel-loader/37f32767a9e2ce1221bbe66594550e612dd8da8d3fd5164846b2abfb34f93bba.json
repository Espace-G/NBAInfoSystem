{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      userList: [],\n      currentPage: 1,\n      totalRecord: 0,\n      up: 0,\n      down: 0\n    };\n  },\n  methods: {\n    initPage() {\n      this.totalRecord = this.userList.length;\n      this.up = this.currentPage * 10 > this.totalRecord ? this.totalRecord : this.currentPage * 10;\n      this.down = (this.currentPage - 1) * 10 <= 0 ? 0 : (this.currentPage - 1) * 10;\n    },\n    getList() {\n      axios.get(\"/api/user/selectAll\").then(response => {\n        this.userList = response.data.obj;\n        this.initPage();\n      });\n    },\n    watch: {\n      $route() {\n        this.getList();\n      }\n    }\n  },\n  mounted() {\n    this.getList();\n  }\n};","map":{"version":3,"mappings":"AAuCA,OAAOA,KAAI,MAAO,OAAM;AACtB,eAAc;EACZC,IAAI,GAAE;IACJ,OAAO;MACLC,QAAQ,EAAC,EAAE;MACXC,WAAW,EAAC,CAAC;MACbC,WAAW,EAAC,CAAC;MACbC,EAAE,EAAC,CAAC;MACJC,IAAI,EAAC;IACP;EACF,CAAC;EACDC,OAAO,EAAC;IACNC,QAAQ,GAAE;MACR,IAAI,CAACJ,WAAU,GAAI,IAAI,CAACF,QAAQ,CAACO,MAAK;MACtC,IAAI,CAACJ,EAAC,GAAI,IAAI,CAACF,WAAU,GAAI,EAAC,GAAI,IAAI,CAACC,WAAU,GAAI,IAAI,CAACA,WAAU,GAAI,IAAI,CAACD,WAAU,GAAI,EAAC;MAC5F,IAAI,CAACG,IAAG,GAAI,CAAC,IAAI,CAACH,WAAW,GAAC,CAAC,IAAI,EAAC,IAAK,IAAI,IAAI,CAAC,IAAI,CAACA,WAAU,GAAI,CAAC,IAAI,EAAC;IAC7E,CAAC;IACDO,OAAO,GAAE;MACPV,KAAK,CAACW,GAAG,CAAC,qBAAqB,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QAChD,IAAI,CAACX,QAAO,GAAIW,QAAQ,CAACZ,IAAI,CAACa,GAAE;QAChC,IAAI,CAACN,QAAQ,EAAC;MAChB,CAAC;IACH,CAAC;IACDO,KAAK,EAAC;MACJC,MAAM,GAAE;QACN,IAAI,CAACN,OAAO,EAAC;MACf;IACF;EACF,CAAC;EACDO,OAAO,GAAE;IACP,IAAI,CAACP,OAAO,EAAC;EACf;AAEF","names":["axios","data","userList","currentPage","totalRecord","up","down","methods","initPage","length","getList","get","then","response","obj","watch","$route","mounted"],"sourceRoot":"","sources":["C:\\Users\\15312\\Desktop\\U\\大三上\\数据库\\课程设计\\NBAInfoSys\\frontend\\src\\components\\UserList.vue"],"sourcesContent":["<template>\r\n  <div class=\"tab-content\" id=\"orders-table-tab-content\">\r\n          <div class=\"tab-pane fade show active\" id=\"orders-all\" role=\"tabpanel\" aria-labelledby=\"orders-all-tab\">\r\n            <div class=\"app-card app-card-orders-table shadow-sm mb-5\">\r\n              <div class=\"app-card-body\">\r\n                <div class=\"table-responsive\">\r\n                  <table class=\"table app-table-hover mb-0 text-left\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th class=\"cell\"></th>\r\n                        <th class=\"cell\">Username</th>\r\n                        <th class=\"cell\">Usertype</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"user in (userList).slice(down,up)\" :key=\"user.uid\">\r\n                        <td class=\"cell\">\r\n                          <img style=\"height:40px\" :src=\"('./img/headshot/' + user.imgpath)\" alt=\"user_headshot\">\r\n                        </td>\r\n                        <td class=\"cell\">{{ user.username }}</td>\r\n                        <td class=\"cell\">{{ user.utype }}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div><!--//table-responsive-->\r\n                    \r\n              </div><!--//app-card-body-->\t\t\r\n            </div><!--//app-card-->\r\n            <nav class=\"app-pagination\">\r\n              <button class=\"btn app-btn-secondary\" @click=\"pageSub\">previous</button>\r\n              <button class=\"btn app-btn-secondary\" @click=\"pageAdd\">next</button>\r\n            </nav><!--//app-pagination-->\r\n            \r\n          </div><!--//tab-pane-->\r\n        </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\n  export default{\r\n    data(){\r\n      return {\r\n        userList:[],\r\n        currentPage:1,\r\n        totalRecord:0,\r\n        up:0,\r\n        down:0,\r\n      }\r\n    },\r\n    methods:{\r\n      initPage(){\r\n        this.totalRecord = this.userList.length\r\n        this.up = this.currentPage * 10 > this.totalRecord ? this.totalRecord : this.currentPage * 10\r\n        this.down = (this.currentPage-1) * 10 <= 0 ? 0 : (this.currentPage - 1) * 10\r\n      },\r\n      getList(){\r\n        axios.get(\"/api/user/selectAll\").then(response => {\r\n          this.userList = response.data.obj\r\n          this.initPage()\r\n        })\r\n      },\r\n      watch:{\r\n        $route(){\r\n          this.getList()\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n      this.getList()\r\n    }\r\n\r\n  }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}